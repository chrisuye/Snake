(this.webpackJsonpsnake=this.webpackJsonpsnake||[]).push([[0],{15:function(t,e,n){},17:function(t,e,n){},18:function(t,e,n){"use strict";n.r(e);var a=n(1),s=n.n(a),o=n(5),c=n.n(o),i=(n(15),n(2)),r=n(6),u=n(7),d=n(10),h=n(9),l=n(4),f=n(8),k=n(0),S=function(t){var e=t.snakeDots;return Object(k.jsx)("div",{children:e.map((function(t,e){return Object(k.jsx)("div",{className:"snake-dot",style:{left:"".concat(t[0],"%"),top:"".concat(t[1],"%")}},e)}))})},v=function(t){var e=t.food,n={left:"".concat(e[0],"%"),top:"".concat(e[1],"%")};return Object(k.jsx)("div",{className:"snake-food",style:n})},j=(n(17),function(){return[2*Math.floor((98*Math.random()+1)/2),2*Math.floor((98*Math.random()+1)/2)]}),O={food:j(),speed:100,direction:"RIGHT",snakeDots:[[0,0],[2,0]],score:0,xDown:null,yDown:null},b=function(t){var e=t.updateState,n=t.direction,a=t.score,s=t.snakeDots,o=t.food,c=Object(f.useSwipeable)({onSwipedUp:function(){return"Down"!==n?e(3):null},onSwipedDown:function(){return"UP"!==n?e(4):null},onSwipedLeft:function(){return"RIGHT"!==n?e(2):null},onSwipedRight:function(){return"LEFT"!==n?e(1):null}});return Object(k.jsxs)("div",Object(l.a)(Object(l.a)({className:"snake"},c),{},{children:[Object(k.jsxs)("div",{className:"score",children:[Object(k.jsx)("h1",{children:"Snake Game"}),Object(k.jsxs)("h2",{children:["Score: ",a]}),Object(k.jsxs)("h2",{children:["High Score: ",localStorage.getItem("snakeScore")]})]}),Object(k.jsxs)("div",{className:"game-area",children:[Object(k.jsx)(S,{snakeDots:s}),Object(k.jsx)(v,{food:o})]})]}))},D=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(t=e.call.apply(e,[this].concat(s))).state=O,t.onKeyDown=function(e){switch((e=e||window.event).keyCode){case 37:"RIGHT"!==t.state.direction&&t.setState({direction:"LEFT"});break;case 38:"DOWN"!==t.state.direction&&t.setState({direction:"UP"});break;case 39:"LEFT"!==t.state.direction&&t.setState({direction:"RIGHT"});break;case 40:"UP"!==t.state.direction&&t.setState({direction:"DOWN"})}},t.moveSnake=function(){var e=Object(i.a)(t.state.snakeDots),n=e[e.length-1];switch(t.state.direction){case"RIGHT":n=[n[0]+2,n[1]];break;case"LEFT":n=[n[0]-2,n[1]];break;case"UP":n=[n[0],n[1]-2];break;case"DOWN":n=[n[0],n[1]+2]}e.push(n),e.shift(),t.setState({snakeDots:e})},t.getTouches=function(t){return t.touches||t.originalEvent.touches},t.handleTouchStart=function(e){var n=t.getTouches(e)[0];t.setState({xDown:n.clientX,yDown:n.clientY})},t.handleTouchMove=function(e){if(t.state.xDown&&t.state.yDown){var n=e.touches[0].clientX,a=e.touches[0].clientY,s=t.state.xDown-n,o=t.state.yDown-a;Math.abs(s)>Math.abs(o)?s>0?"LEFT"!==t.state.direction&&t.setState({direction:"RIGHT"}):"RIGHT"!==t.state.direction&&t.setState({direction:"LEFT"}):o>0?"UP"!==t.state.direction&&t.setState({direction:"DOWN"}):"DOWN"!==t.state.direction&&t.setState({direction:"UP"}),t.setState({xDown:null,yDown:null})}},t.increaseSpeed=function(){var e=t.state.speed;e>10&&(e-=10,t.setState({speed:e}))},t.updateState=function(e){1===e?t.setState({direction:"RIGHT"}):2===e?t.setState({direction:"LEFT"}):3===e?t.setState({direction:"UP"}):4===e&&t.setState({direction:"DOWN"})},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){setInterval(this.moveSnake,this.state.speed),document.onkeydown=this.onKeyDown,document.addEventListener("touchstart",this.onTouchStart),document.addEventListener("touchmove",this.onTouchMove)}},{key:"componentDidUpdate",value:function(){this.checkIfOutOfBorders(),this.checkIfCollapsed(),this.checkIfEat()}},{key:"checkIfOutOfBorders",value:function(){var t=Object(i.a)(this.state.snakeDots),e=t[t.length-1];(e[0]>=100||e[1]>=100||e[0]<0||e[1]<0)&&this.gameOver()}},{key:"checkIfCollapsed",value:function(){var t=this,e=Object(i.a)(this.state.snakeDots),n=e[e.length-1];e.pop(),e.forEach((function(e){n[0]===e[0]&&n[1]===e[1]&&t.gameOver()}))}},{key:"checkIfEat",value:function(){var t=Object(i.a)(this.state.snakeDots),e=t[t.length-1],n=this.state.food;e[0]===n[0]&&e[1]===n[1]&&(this.setState({food:j()}),this.enlargeSnake(),this.increaseSpeed(),this.increaseScore())}},{key:"increaseScore",value:function(){this.setState({score:this.state.score+1})}},{key:"enlargeSnake",value:function(){var t=Object(i.a)(this.state.snakeDots);t.unshift([]),this.setState({snakeDots:t})}},{key:"gameOver",value:function(){localStorage.setItem("snakeScore",this.state.score>localStorage.getItem("snakeScore")?this.state.score:localStorage.getItem("snakeScore")),this.setState(O)}},{key:"render",value:function(){return Object(k.jsx)(b,{updateState:this.updateState,direction:this.state.direction,snakeDots:this.state.snakeDots,food:this.state.food,score:this.state.score})}}]),n}(a.Component),p=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(e){var n=e.getCLS,a=e.getFID,s=e.getFCP,o=e.getLCP,c=e.getTTFB;n(t),a(t),s(t),o(t),c(t)}))};c.a.render(Object(k.jsx)(s.a.StrictMode,{children:Object(k.jsx)(D,{})}),document.getElementById("root")),p()}},[[18,1,2]]]);
//# sourceMappingURL=main.29e989f3.chunk.js.map